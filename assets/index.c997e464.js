var L=Object.defineProperty,R=Object.defineProperties;var A=Object.getOwnPropertyDescriptors;var b=Object.getOwnPropertySymbols;var D=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable;var y=(t,s,a)=>s in t?L(t,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[s]=a,d=(t,s)=>{for(var a in s||(s={}))D.call(s,a)&&y(t,a,s[a]);if(b)for(var a of b(s))M.call(s,a)&&y(t,a,s[a]);return t},f=(t,s)=>R(t,A(s));import{j as g,L as w,r as l,h as H,v as S,R as O,a as v,b as Y,c as z,H as I}from"./vendor.a30e8b5f.js";const K=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))u(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&u(i)}).observe(document,{childList:!0,subtree:!0});function a(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerpolicy&&(o.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?o.credentials="include":r.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function u(r){if(r.ep)return;r.ep=!0;const o=a(r);fetch(r.href,o)}};K();const e=g.exports.jsx,n=g.exports.jsxs,h=g.exports.Fragment,P=(...t)=>t.filter(Boolean).join(" "),p=({name:t,selected:s})=>e(h,{children:e("div",{className:P(s?"bg-slate-500 text-slate-50":"hover:bg-slate-600 hover:text-slate-50","cursor-pointer px-3 py-2 rounded-md text-lg"),children:t})}),U=({page:t,visitors:s})=>n("nav",{className:"bg-slate-700 mx-auto px-4 fixed z-10 top-0 w-full flex items-center justify-between h-16",children:[n("div",{className:"flex-1 flex items-center justify-center sm:items-stretch sm:justify-start",children:[e("div",{className:"space-x-4 text-gray-300 py-2 text-lg",children:"\u7DB2\u8DEF\u653B\u9632\u5BE6\u7FD2"}),n("div",{className:"ml-6 flex space-x-4",children:[e(w,{to:"/",children:e(p,{name:"About",selected:t==="About"})}),e(w,{to:"/chat",children:e(p,{name:"Chat",selected:t==="Chat"})}),n("a",{className:"px-3 py-2 text-lg",children:["Visitors: ",s]})]})]}),e("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 sm:static sm:inset-auto sm:ml-6 sm:pr-0",children:n("div",{className:"flex space-x-4",children:[e(p,{name:"Login",selected:!1}),e(p,{name:"Sign Up",selected:!1})]})})]});var T="./assets/Leo.6ee7d847.jpeg";const V=({setPage:t})=>(l.exports.useEffect(()=>{t("About")}),e(h,{children:n("div",{className:"flex flex-col col-auto items-center justify-center h-[calc(100vh-4rem)]",children:[e("img",{className:"object-cover h-60 w-60 rounded-full",src:T,alt:"my avatar"}),e("h1",{className:"text-2xl m-6 font-bold",children:"Chen, Yu-Yu"}),e("div",{children:"\u60F3\u7761\u89BA\u4F46\u5BEB\u7A0B\u5F0F\u5BEB\u5230\u7761\u4E0D\u8457\u2026\u2026"})]})})),W=t=>t.split(`
`).map((s,a)=>n(l.exports.Fragment,{children:[s,e("br",{})]},a)),$=({comments:t,commentsFooter:s})=>e(h,{children:n("div",{className:"pt-2 flex flex-col col-auto items-center",children:[t.length===0?e("div",{className:"text-xl",children:"\u4E00\u7247\u98A8\u5E73\u6D6A\u975C\u2026\u2026"}):t.map(a=>n("div",{className:"bg-slate-800 m-2 rounded-lg p-2 w-4/5 flex",children:[n("div",{className:"w-24 flex flex-col justify-center whitespace-nowrap items-center mr-2",children:[e("img",{className:"object-cover h-16 w-16 rounded-full",src:a.avatar,alt:"default avatar"}),e("div",{className:"text-center align-middle mt-1 w-full overflow-hidden text-ellipsis",children:a.name})]}),n("div",{className:"relative w-full p-1",children:[e("div",{className:"p-1 mb-8",children:W(a.message)}),e("div",{className:"absolute right-0 bottom-0 h-8 text-right pr-2",children:H(a.timestamp).format("YYYY/MM/DD HH:mm:ss")})]})]},`${a.id}`)),e("div",{ref:s})]})}),q=t=>l.exports.createElement("svg",d({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},t),l.exports.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l.exports.createElement("line",{x1:10,y1:14,x2:21,y2:3}),l.exports.createElement("path",{d:"M21 3l-6.5 18a0.55 .55 0 0 1 -1 0l-3.5 -7l-7 -3.5a0.55 .55 0 0 1 0 -1l18 -6.5"})),G=t=>l.exports.createElement("svg",d({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",style:{backgroundColor:"#373737"}},t),l.exports.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l.exports.createElement("path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2"}),l.exports.createElement("polyline",{points:"7 9 12 4 17 9"}),l.exports.createElement("line",{x1:12,y1:4,x2:12,y2:16})),J=({textInput:t,handleFormSubmit:s,handleTextInputChange:a,handleImageChange:u,handleEnterKey:r,inputNameRef:o,inputMessageRef:i})=>e(h,{children:n("div",{className:"bg-slate-600 fixed bottom-0 z-10 h-28 w-full flex justify-start",children:[n("div",{className:"w-28 flex items-center justify-center",children:[e("input",{id:"avatar",className:"w-32 hidden",type:"file",accept:"image/*",name:"avatar",onChange:u}),n("label",{htmlFor:"avatar",className:"relative h-20 w-20 rounded-full cursor-pointer",children:[e("img",{className:"absolute object-cover h-20 w-20 rounded-full",src:t.avatar,alt:"default avatar"}),e(G,{className:"h-20 w-20 p-5 absolute rounded-full opacity-0 hover:opacity-75"})]})]}),n("div",{className:"flex flex-col w-[calc(100%-10rem)]",children:[e("input",{className:"w-2/6 rounded-md mt-2 mb-1 p-1 placeholder:text-slate-600 bg-slate-400 text-slate-900 focus:outline outline-slate-800 outline-2",name:"name",placeholder:"name",value:t.name,onChange:a,onKeyDown:r,ref:o}),e("textarea",{className:"rounded-md mt-1 mb-2 p-1 h-full resize-none scrollbar-thin scrollbar-thumb-slate-300 scrollbar-track-slate-800 placeholder:text-slate-600 bg-slate-400 text-slate-900 focus:outline outline-slate-800 outline-2",name:"message",placeholder:"messages...",value:t.message,onChange:a,onKeyDown:r,ref:i})]}),e("div",{className:"w-16 my-5 flex items-end justify-center",children:e(q,{className:"h-10 w-10 cursor-pointer hover:invert",onClick:s})})]})});var E="./assets/default-avatar.399f70ee.png";const Q=({setPage:t})=>{const s=l.exports.useRef(null),a=l.exports.useRef(null),u=l.exports.useRef(null),[r,o]=l.exports.useState({name:"",message:"",avatar:E}),[i,j]=l.exports.useState([]),C=({target:{name:c,value:m}})=>{o(x=>f(d({},x),{[c]:m}))},N=c=>{j(m=>[...m,f(d({},r),{name:r.name?r.name:"\u533F\u540D",timestamp:new Date,id:S()})]),o(m=>f(d({},m),{name:"",message:"",avatar:E})),c.preventDefault()},F=({target:{files:c}})=>{if(c&&c[0]){const m=c[0];o(x=>f(d({},x),{avatar:URL.createObjectURL(m)}))}},k=c=>{c.key==="Enter"&&!c.shiftKey&&(c.target.name==="name"?(u.current.focus(),c.preventDefault()):c.target.name=="message"&&(N(c),a.current.focus()))};l.exports.useEffect(()=>{t("Chat")},[]),l.exports.useEffect(()=>{a.current.focus()},[]);const B=()=>{var c;(c=s.current)==null||c.scrollIntoView({behavior:"smooth"})};return l.exports.useEffect(()=>{B()},[i]),e(h,{children:n("div",{className:"mb-32",children:[e($,{comments:i,commentsFooter:s}),e(J,{textInput:r,handleTextInputChange:C,handleFormSubmit:N,handleImageChange:F,handleEnterKey:k,inputNameRef:a,inputMessageRef:u})]})})},X=({setPage:t})=>(l.exports.useEffect(()=>{t("NotFound")}),e(h,{children:e("div",{children:"404"})}));function Z(){const[t,s]=l.exports.useState("About");return n(h,{children:[e(U,{page:t,visitors:NaN}),e("div",{className:"mt-16",children:n(O,{children:[e(v,{exact:!0,path:"/",element:e(V,{setPage:s})}),e(v,{exact:!0,path:"/chat",element:e(Q,{setPage:s})}),e(v,{path:"*",element:e(X,{setPage:s})})]})})]})}Y.render(e(z.StrictMode,{children:e(I,{children:e(Z,{})})}),document.getElementById("root"));
